{% macro menu() -%}
<div class="ui container">
  <div class="ui large inverted secondary pointing menu">
    <a class="toc item">
      <i class="sidebar icon"></i>
    </a>
    <a class="item inverted" href="{{ url_for('site.index') }}">Home</a>
    {% for page in pages %}
     {% if page.published == 1 and page.slug != 'home' %}
      <a class="item inverted" href="{{ url_for('site.page', page=page.slug) }}">{{ page.title }}</a>
     {% endif %}
    {% endfor %}
    <div class="right item" style='padding: 0;'>
    {% if current_user.is_authenticated %}
     <div class="ui right dropdown item">
       <i class='user icon' aria-hidden="true"></i>
       {{ current_user.email }}
       <i class="dropdown icon" aria-hidden="true"></i>
       <div class="menu">
         {% if current_user.has_role('editor') %}
         <a class="item" href="{{ url_for('admin.blog_list') }}">Edit Blog</a>
         <a class="item" href="{{ url_for('admin.page_list') }}">Edit Pages</a>
         {% endif %}
         {% if current_user.is_admin() %}
         <a class="item" href="{{ url_for('admin.user_list') }}">Edit Users</a>
         <a class="item" href="{{ url_for('admin.role_list') }}">Edit Roles</a>
         {% endif %}
         <a class="item" href="{{ url_for('auth.logout_view') }}">Logout</a>
       </div>
     </div>
     {% else %}
     <a class="item inverted" href="{{ url_for('auth.login_view') }}">Login</a>
     {% endif %}
    </div>
  </div>
</div>
{%- endmacro %}

{% macro mobile_menu() -%}
<div class="ui vertical inverted sidebar menu left">
    <a class="item" href="{{ url_for('site.index') }}">Home</a>
    {% for page in pages %}
     {% if page.published == 1 and page.slug != 'home' %}
      <a class="item" href="{{ url_for('site.page', page=page.slug) }}">{{ page.title }}</a>
     {% endif %}
    {% endfor %}
    {% if not current_user.is_authenticated %}
     <a class="item" href="{{ url_for('auth.login_view') }}">Login</a>
    {% else %}
      {% if current_user.is_admin() %}
       <a class="item" href="{{ url_for('admin.blog_list') }}">Edit Blog</a>
       <a class="item" href="{{ url_for('admin.page_list') }}">Edit Pages</a>
      {% endif %}
     <a class="item" href="{{ url_for('auth.logout_view') }}">Logout</a>
     <p class="item"><i class='user icon' aria-hidden="true"></i> {{ current_user.email }}</p>
    {% endif %}
</div>
{%- endmacro %}

{% macro footer() -%}
<div class="ui vertical footer segment m">
    <div class="ui center aligned text container">
      <div class="row">
		    <p><i class='copyright icon'></i> {{ now.year }}</p>  
      </div>
    </div>
  </div>
{%- endmacro %}
